<app-aside-admin></app-aside-admin>
<div id="content-page" class="content-page">
    <div class="container">
        <div class="container-form">
            <h3> Phiếu Mượn </h3>
            <form #phieuMuonForm="ngForm" (ngSubmit)="onSubmit()" class="form-group">
                <!-- Mã PM (Mã Phiếu Mượn) -->
                <div class="form-group">
                    <label for="maPM">Mã Phiếu Mượn</label>
                    <input class="form-control" id="maPM" name="maPM" [(ngModel)]="phieuMuon.maPM" placeholder="Nhập mã phiếu mượn" required />
                </div>
        
                <!-- Mã Hội Viên -->
                <div class="form-group">
                    <label for="maHV">Mã Hội Viên</label>
                    <input class="form-control" id="maHV" name="maHV" [(ngModel)]="phieuMuon.hoiVien.maHV" placeholder="Nhập mã hội viên" required />
                </div>
        
                <!-- Mã Nhân Viên -->
                <div class="form-group">
                    <label for="maNV">Mã Nhân Viên</label>
                    <input class="form-control" id="maNV" name="maNV" [(ngModel)]="phieuMuon.nhanVien.maNV" placeholder="Nhập mã nhân viên" required />
                </div>
        
                <!-- Hạn Trả Sách -->
                <div class="form-group">
                    <label for="hanTraSach">Hạn Trả Sách</label>
                    <input class="form-control" type="date" id="hanTraSach" name="hanTraSach" [(ngModel)]="phieuMuon.hanTraSach" required />
                </div>
        
                <!-- Ngày Lập Phiếu -->
                <div class="form-group">
                    <label for="ngayLapPhieu">Ngày Lập Phiếu</label>
                    <input class="form-control" type="date" id="ngayLapPhieu" name="ngayLapPhieu" [(ngModel)]="phieuMuon.ngayLapPhieu" required />
                </div>
                <div class="form-group">
                    <div class="form-group">
                        <table class="table table-bordered">
                          <thead>
                            <tr>
                              <th>Mã sách</th>
                              <th>Tên sách</th>
                              <th>Tác giả</th>
                              <th>Ngày mượn</th>
                              <th>Hành động</th> <!-- Cột Hành động -->
                            </tr>
                          </thead>
                          <tbody>
                            <tr *ngFor="let book of phieuMuon.chiTietPhieuMuonList; let i = index">
                              <td><input type="text" class="form-control" [(ngModel)]="book.maSach" placeholder="Mã sách"></td>
                              <td><input type="text" class="form-control" [(ngModel)]="book.tenSach" placeholder="Tên sách"></td>
                              <td><input type="text" class="form-control" [(ngModel)]="book.tacGia" placeholder="Tác giả"></td>
                              <td><input type="date" class="form-control" [(ngModel)]="book.ngayMuon"></td>
                              <td>
                                <button type="button" class="btn btn-danger" (click)="deleteBook(i)">Xóa</button>
                              </td>
                            </tr>
                          </tbody>
                        </table>
                        <button type="button" class="btn btn-secondary" (click)="addBookRow()">Thêm Sách</button>
                      </div>
                </div>
                <div class="form-group d-flex justify-content-between">
                  <button type="button" class="btn btn-warning" (click)="goBack()">Quay lại</button>
                  <button type="submit" class="btn btn-primary">Tạo Phiếu Mượn</button>
              </div>
            </form>
        </div>
        
    </div>
 </div>
 